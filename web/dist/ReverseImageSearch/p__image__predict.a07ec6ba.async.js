(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[273],{61806:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return BaseComponent}});var C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(69610),C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(54941),C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(63543),C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(94663),C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81306),C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12958),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),BaseComponent=function(_Component){(0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_1__.Z)(BaseComponent,_Component);var _super=(0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_2__.Z)(BaseComponent);function BaseComponent(){return(0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,BaseComponent),_super.apply(this,arguments)}return(0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.Z)(BaseComponent,[{key:"setStateSimple",value:function(key,value,callback){var _this=this,keyArr=key.split("."),state={},stateEval="state";keyArr.map(function(v,i){stateEval="".concat(stateEval,"['").concat(v,"']"),i===0?state[v]=_this.state[v]||{}:eval("".concat(stateEval," = ").concat(stateEval," || {}"))}),stateEval="".concat(stateEval,"=value"),eval(stateEval),(0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,C_work_python_reverse_image_search_web_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__.Z)(BaseComponent.prototype),"setState",this).call(this,state,callback)}}]),BaseComponent}(react__WEBPACK_IMPORTED_MODULE_0__.Component)},27503:function(S,m,e){"use strict";e.r(m),e.d(m,{default:function(){return L}});var R=e(13254),E=e(14277),U=e(48736),g=e(27049),T=e(20228),j=e(11382),k=e(43185),x=e(98670),K=e(12968),p=e(62462),W=e(36017),l=e(35247),f=e(69610),y=e(54941),O=e(81306),D=e(12958),h=e(67294),B=e(61806),M=e(73727),c=e(25958),v=e(28991),P={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},I=P,A=e(27029),b=function(i,t){return h.createElement(A.Z,(0,v.Z)((0,v.Z)({},i),{},{ref:t,icon:I}))};b.displayName="InboxOutlined";var Z=h.forwardRef(b),w=e(96190),s=e(85893),L=function(C){(0,O.Z)(t,C);var i=(0,D.Z)(t);function t(){var r;(0,f.Z)(this,t);for(var a=arguments.length,n=new Array(a),_=0;_<a;_++)n[_]=arguments[_];return r=i.call.apply(i,[this].concat(n)),r.state={response:{}},r}return(0,y.Z)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var a=this,n,_;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.Z,{style:{padding:20,paddingTop:0,paddingBottom:0},children:[(0,s.jsx)(l.Z.Item,{children:(0,s.jsx)(M.rU,{to:"/",children:(0,c.A8)()})}),(0,s.jsx)(l.Z.Item,{children:(0,s.jsx)("a",{children:(0,c.A8)("/predict")})})]}),(0,s.jsxs)("div",{style:{background:"white",padding:20,margin:"20px 0"},children:[(0,s.jsx)(j.Z,{spinning:this.state.loading||!1,children:(0,s.jsxs)(x.Z.Dragger,{name:"file",action:"/api/image/search",headers:{Authorization:(0,w.hP)()},data:{limit:20},onChange:function(u){if(a.setStateSimple("loading",!0),u.file.status==="done"){var d=new FileReader,F=a;d.addEventListener("load",function(){F.setStateSimple("preditImage",d.result)},!1),d.readAsDataURL(u.file.originFileObj),a.setStateSimple("loading",!1),a.setStateSimple("response",u.file.response)}},showUploadList:!1,children:[(0,s.jsx)("div",{children:this.state.preditImage?(0,s.jsx)(p.Z,{style:{padding:20},src:this.state.preditImage,height:300,width:300,preview:!1}):(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(Z,{})})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"\u652F\u6301\u70B9\u51FB\u9009\u62E9\u6587\u4EF6\uFF0C\u6216\u62D6\u52A8\u6587\u4EF6\u5230\u5F53\u524D\u533A\u57DF\u5185"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301\u8BC6\u522Bjpg,jpeg,png\u683C\u5F0F\u7684\u6587\u4EF6\uFF0C\u8BC6\u522B\u7ED3\u679C\u5C06\u51FA\u73B0\u5728\u4E0B\u9762\u7684\u65B9\u6846\u4E2D"})]})}),(0,s.jsx)(g.Z,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{textAlign:"center"},children:(n=this.state.response)===null||n===void 0||(_=n.info)===null||_===void 0?void 0:_.map(function(o){return(0,s.jsxs)("div",{style:{display:"inline-block"},children:[(0,s.jsx)(p.Z,{style:{padding:20},src:o.image_path,height:300,width:300}),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{children:["distance ",o.distance.toFixed(2)]})]},o.image_path)})}),(!this.state.response.info||this.state.response.info.length===0)&&(0,s.jsx)(E.Z,{})]})]})]})}}]),t}(B.Z)}}]);
